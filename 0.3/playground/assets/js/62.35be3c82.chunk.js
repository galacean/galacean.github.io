(window.webpackJsonp=window.webpackJsonp||[]).push([[62],{487:function(n,t,e){"use strict";e.r(t),t.default='import { OrbitControl } from "@oasis-engine/controls";\nimport * as dat from "dat.gui";\nimport {\n  AmbientLight,\n  Animation,\n  Camera,\n  Color,\n  DirectLight,\n  GLTFResource,\n  SystemInfo,\n  WebGLEngine\n} from "oasis-engine";\n\nconst gui = new dat.GUI();\n\n//-- create engine object\nconst engine = new WebGLEngine("o3-demo");\nengine.canvas.width = window.innerWidth * SystemInfo.devicePixelRatio;\nengine.canvas.height = window.innerHeight * SystemInfo.devicePixelRatio;\n\nconst scene = engine.sceneManager.activeScene;\nconst rootEntity = scene.createRootEntity();\nconst lightEntity = rootEntity.createChild("light");\nlightEntity.transform.rotate(0, 180, 0);\n\nconst ambient = lightEntity.addComponent(AmbientLight);\nambient.color = new Color(0.2, 0.2, 0.2, 1);\nconst light = lightEntity.addComponent(DirectLight);\nlight.color = new Color(0.8, 0.8, 0.8, 1.0);\n\n//-- create camera\nconst cameraEntity = rootEntity.createChild("camera_entity");\ncameraEntity.transform.setPosition(0, 0, -10);\ncameraEntity.addComponent(Camera);\ncameraEntity.addComponent(OrbitControl);\n\nengine.run();\n\nengine.resourceManager\n  .load<GLTFResource>("https://gw.alipayobjects.com/os/OasisHub/267000040/494/redPacket.gltf")\n  .then((asset) => {\n    const { animations, defaultSceneRoot } = asset;\n    const animationNameList = animations.map(({ name }) => name);\n\n    rootEntity.addChild(defaultSceneRoot);\n\n    const animator = defaultSceneRoot.getComponent(Animation);\n    animator.playAnimationClip(animationNameList[0]);\n\n    const debugInfo = {\n      animation: animationNameList[0],\n      crossFade: true,\n      crossTime: 1000\n    };\n\n    gui.add(debugInfo, "animation", animationNameList).onChange((v) => {\n      const { crossFade, crossTime } = debugInfo;\n\n      if (crossFade) {\n        animator.crossFade(v, crossTime);\n      } else {\n        animator.playAnimationClip(v);\n      }\n    });\n\n    gui.add(debugInfo, "crossFade");\n    gui.add(debugInfo, "crossTime", 0, 5000).name("\u8fc7\u6e21\u65f6\u95f4(\u6beb\u79d2)");\n  });\n'}}]);